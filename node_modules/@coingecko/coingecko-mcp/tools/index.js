"use strict";
// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.endpoints = void 0;
exports.query = query;
const get_asset_platforms_1 = __importDefault(require("./asset-platforms/get-asset-platforms.js"));
const get_id_coins_1 = __importDefault(require("./coins/get-id-coins.js"));
const get_list_coins_categories_1 = __importDefault(require("./coins/categories/get-list-coins-categories.js"));
const get_coins_list_1 = __importDefault(require("./coins/list/get-coins-list.js"));
const get_new_coins_list_1 = __importDefault(require("./coins/list/get-new-coins-list.js"));
const get_coins_markets_1 = __importDefault(require("./coins/markets/get-coins-markets.js"));
const get_coins_top_gainers_losers_1 = __importDefault(require("./coins/top-gainers-losers/get-coins-top-gainers-losers.js"));
const get_coins_contract_1 = __importDefault(require("./coins/contract/get-coins-contract.js"));
const get_range_contract_coins_market_chart_1 = __importDefault(require("./coins/contract/market-chart/get-range-contract-coins-market-chart.js"));
const get_coins_history_1 = __importDefault(require("./coins/history/get-coins-history.js"));
const get_range_coins_market_chart_1 = __importDefault(require("./coins/market-chart/get-range-coins-market-chart.js"));
const get_range_coins_ohlc_1 = __importDefault(require("./coins/ohlc/get-range-coins-ohlc.js"));
const get_global_1 = __importDefault(require("./global/get-global.js"));
const get_id_nfts_1 = __importDefault(require("./nfts/get-id-nfts.js"));
const get_list_nfts_1 = __importDefault(require("./nfts/get-list-nfts.js"));
const get_nfts_market_chart_1 = __importDefault(require("./nfts/market-chart/get-nfts-market-chart.js"));
const get_onchain_categories_1 = __importDefault(require("./onchain/categories/get-onchain-categories.js"));
const get_pools_onchain_categories_1 = __importDefault(require("./onchain/categories/get-pools-onchain-categories.js"));
const get_onchain_networks_1 = __importDefault(require("./onchain/networks/get-onchain-networks.js"));
const get_networks_onchain_new_pools_1 = __importDefault(require("./onchain/networks/new-pools/get-networks-onchain-new-pools.js"));
const get_network_networks_onchain_new_pools_1 = __importDefault(require("./onchain/networks/new-pools/get-network-networks-onchain-new-pools.js"));
const get_networks_onchain_trending_pools_1 = __importDefault(require("./onchain/networks/trending-pools/get-networks-onchain-trending-pools.js"));
const get_network_networks_onchain_trending_pools_1 = __importDefault(require("./onchain/networks/trending-pools/get-network-networks-onchain-trending-pools.js"));
const get_networks_onchain_dexes_1 = __importDefault(require("./onchain/networks/dexes/get-networks-onchain-dexes.js"));
const get_pools_networks_onchain_dexes_1 = __importDefault(require("./onchain/networks/dexes/get-pools-networks-onchain-dexes.js"));
const get_networks_onchain_pools_1 = __importDefault(require("./onchain/networks/pools/get-networks-onchain-pools.js"));
const get_address_networks_onchain_pools_1 = __importDefault(require("./onchain/networks/pools/get-address-networks-onchain-pools.js"));
const get_pools_networks_onchain_info_1 = __importDefault(require("./onchain/networks/pools/info/get-pools-networks-onchain-info.js"));
const get_timeframe_pools_networks_onchain_ohlcv_1 = __importDefault(require("./onchain/networks/pools/ohlcv/get-timeframe-pools-networks-onchain-ohlcv.js"));
const get_pools_networks_onchain_trades_1 = __importDefault(require("./onchain/networks/pools/trades/get-pools-networks-onchain-trades.js"));
const get_address_networks_onchain_tokens_1 = __importDefault(require("./onchain/networks/tokens/get-address-networks-onchain-tokens.js"));
const get_tokens_networks_onchain_info_1 = __importDefault(require("./onchain/networks/tokens/info/get-tokens-networks-onchain-info.js"));
const get_tokens_networks_onchain_top_holders_1 = __importDefault(require("./onchain/networks/tokens/top-holders/get-tokens-networks-onchain-top-holders.js"));
const get_tokens_networks_onchain_holders_chart_1 = __importDefault(require("./onchain/networks/tokens/holders-chart/get-tokens-networks-onchain-holders-chart.js"));
const get_timeframe_tokens_networks_onchain_ohlcv_1 = __importDefault(require("./onchain/networks/tokens/ohlcv/get-timeframe-tokens-networks-onchain-ohlcv.js"));
const get_tokens_networks_onchain_pools_1 = __importDefault(require("./onchain/networks/tokens/pools/get-tokens-networks-onchain-pools.js"));
const get_tokens_networks_onchain_trades_1 = __importDefault(require("./onchain/networks/tokens/trades/get-tokens-networks-onchain-trades.js"));
const get_pools_onchain_megafilter_1 = __importDefault(require("./onchain/pools/megafilter/get-pools-onchain-megafilter.js"));
const get_pools_onchain_trending_search_1 = __importDefault(require("./onchain/pools/trending-search/get-pools-onchain-trending-search.js"));
const get_search_onchain_pools_1 = __importDefault(require("./onchain/search/pools/get-search-onchain-pools.js"));
const get_addresses_networks_simple_onchain_token_price_1 = __importDefault(require("./onchain/simple/networks/token-price/get-addresses-networks-simple-onchain-token-price.js"));
const get_search_1 = __importDefault(require("./search/get-search.js"));
const get_search_trending_1 = __importDefault(require("./search/trending/get-search-trending.js"));
const get_simple_price_1 = __importDefault(require("./simple/price/get-simple-price.js"));
const get_simple_supported_vs_currencies_1 = __importDefault(require("./simple/supported-vs-currencies/get-simple-supported-vs-currencies.js"));
const get_id_simple_token_price_1 = __importDefault(require("./simple/token-price/get-id-simple-token-price.js"));
exports.endpoints = [];
function addEndpoint(endpoint) {
    exports.endpoints.push(endpoint);
}
addEndpoint(get_asset_platforms_1.default);
addEndpoint(get_id_coins_1.default);
addEndpoint(get_list_coins_categories_1.default);
addEndpoint(get_coins_list_1.default);
addEndpoint(get_new_coins_list_1.default);
addEndpoint(get_coins_markets_1.default);
addEndpoint(get_coins_top_gainers_losers_1.default);
addEndpoint(get_coins_contract_1.default);
addEndpoint(get_range_contract_coins_market_chart_1.default);
addEndpoint(get_coins_history_1.default);
addEndpoint(get_range_coins_market_chart_1.default);
addEndpoint(get_range_coins_ohlc_1.default);
addEndpoint(get_global_1.default);
addEndpoint(get_id_nfts_1.default);
addEndpoint(get_list_nfts_1.default);
addEndpoint(get_nfts_market_chart_1.default);
addEndpoint(get_onchain_categories_1.default);
addEndpoint(get_pools_onchain_categories_1.default);
addEndpoint(get_onchain_networks_1.default);
addEndpoint(get_networks_onchain_new_pools_1.default);
addEndpoint(get_network_networks_onchain_new_pools_1.default);
addEndpoint(get_networks_onchain_trending_pools_1.default);
addEndpoint(get_network_networks_onchain_trending_pools_1.default);
addEndpoint(get_networks_onchain_dexes_1.default);
addEndpoint(get_pools_networks_onchain_dexes_1.default);
addEndpoint(get_networks_onchain_pools_1.default);
addEndpoint(get_address_networks_onchain_pools_1.default);
addEndpoint(get_pools_networks_onchain_info_1.default);
addEndpoint(get_timeframe_pools_networks_onchain_ohlcv_1.default);
addEndpoint(get_pools_networks_onchain_trades_1.default);
addEndpoint(get_address_networks_onchain_tokens_1.default);
addEndpoint(get_tokens_networks_onchain_info_1.default);
addEndpoint(get_tokens_networks_onchain_top_holders_1.default);
addEndpoint(get_tokens_networks_onchain_holders_chart_1.default);
addEndpoint(get_timeframe_tokens_networks_onchain_ohlcv_1.default);
addEndpoint(get_tokens_networks_onchain_pools_1.default);
addEndpoint(get_tokens_networks_onchain_trades_1.default);
addEndpoint(get_pools_onchain_megafilter_1.default);
addEndpoint(get_pools_onchain_trending_search_1.default);
addEndpoint(get_search_onchain_pools_1.default);
addEndpoint(get_addresses_networks_simple_onchain_token_price_1.default);
addEndpoint(get_search_1.default);
addEndpoint(get_search_trending_1.default);
addEndpoint(get_simple_price_1.default);
addEndpoint(get_simple_supported_vs_currencies_1.default);
addEndpoint(get_id_simple_token_price_1.default);
function query(filters, endpoints) {
    const allExcludes = filters.length > 0 && filters.every((filter) => filter.op === 'exclude');
    const unmatchedFilters = new Set(filters);
    const filtered = endpoints.filter((endpoint) => {
        let included = false || allExcludes;
        for (const filter of filters) {
            if (match(filter, endpoint)) {
                unmatchedFilters.delete(filter);
                included = filter.op === 'include';
            }
        }
        return included;
    });
    // Check if any filters didn't match
    const unmatched = Array.from(unmatchedFilters).filter((f) => f.type === 'tool' || f.type === 'resource');
    if (unmatched.length > 0) {
        throw new Error(`The following filters did not match any endpoints: ${unmatched
            .map((f) => `${f.type}=${f.value}`)
            .join(', ')}`);
    }
    return filtered;
}
function match({ type, value }, endpoint) {
    switch (type) {
        case 'resource': {
            const regexStr = '^' + normalizeResource(value).replace(/\*/g, '.*') + '$';
            const regex = new RegExp(regexStr);
            return regex.test(normalizeResource(endpoint.metadata.resource));
        }
        case 'operation':
            return endpoint.metadata.operation === value;
        case 'tag':
            return endpoint.metadata.tags.includes(value);
        case 'tool':
            return endpoint.tool.name === value;
    }
}
function normalizeResource(resource) {
    return resource.toLowerCase().replace(/[^a-z.*\-_]*/g, '');
}
//# sourceMappingURL=index.js.map